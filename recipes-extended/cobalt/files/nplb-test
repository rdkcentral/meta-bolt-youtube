export LANG=en-US
export TZ=:Europe/Warsaw
export XDG_RUNTIME_DIR="/tmp"
export WAYLAND_DISPLAY=test-0
curl 'http://127.0.0.1:9998/jsonrpc' -d '{"jsonrpc": "2.0","id": 4,"method":"org.rdk.RDKShell.1.createDisplay", "params": { "client": "test-0", "displayName": "test-0", "rialtoSocket": "rialto-nplb" }}'; echo ""
curl 'http://127.0.0.1:9998/jsonrpc' -d '{"jsonrpc": "2.0","id": 4,"method": "org.rdk.RDKShell.1.setFocus","params": { "client": "test-0" }}' ; echo ""
# temporary solution, for more details see PREMIUMAPP-3309
export COBALT_ENABLE_OVERRIDES=1
export DeviceIdentification_deviceidentification='{"firmwareversion":"1.0.0","chipset":"S905X4"}'

export RIALTO_SOCKET_PATH=/tmp/rialto-nplb
mkdir -p /tmp/gst
for LIB in libgstapp.so libgstaudioresample.so libgstcoreelements.so libgstplayback.so libgstaudioconvert.so libgstautodetect.so libgstrialtosinks.so libgsttypefindfunctions.so; do
  ln -sf /usr/lib/gstreamer-1.0/${LIB} /tmp/gst/${LIB}
done
export GST_PLUGIN_SYSTEM_PATH=/tmp/gst

ls -1 /usr/lib/libocdm.so* | while read LIB; do
  ln -sf /usr/lib/libocdmRialto.so.1 /tmp/gst/$(basename ${LIB})
done
export LD_LIBRARY_PATH=/tmp/gst:$LD_LIBRARY_PATH

rm -f /home/root/.cache/gstreamer-1.0/registry.arm.bin

export THUNDER_ACCESS=127.0.0.1:9998

elf_loader_sandbox --evergreen_library=app/nplb/lib/libnplb.so --evergreen_content=app/nplb/content
